> **ğŸ“¦ä»“åº“å½’æ¡£**ï¼š
> 
> ä½œè€…å»ç©åˆ«çš„æ¸¸æˆäº†
> 
> æœ‰éœ€è¦å¯ä»¥æ£€æŸ¥æœ‰æ²¡æœ‰åœ¨ç»´æŠ¤çš„[è¡ç”Ÿåˆ†æ”¯](https://github.com/NateScarlet/auto-derby/network)å¯ä»¥æ»¡è¶³éœ€æ±‚

# auto-derby

![version](https://img.shields.io/github/v/tag/NateScarlet/auto-derby?label=version)
[![python](https://github.com/NateScarlet/auto-derby/actions/workflows/python-app.yml/badge.svg)](https://github.com/NateScarlet/auto-derby/actions/workflows/python-app.yml)
[![Join the chat at https://gitter.im/auto-derby/community](https://badges.gitter.im/auto-derby/community.svg)](https://gitter.im/auto-derby/community?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
[![Conventional Commits](https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg)](https://conventionalcommits.org)

è‡ªåŠ¨åŒ–å…»é©¬

| :exclamation: è„šæœ¬è¿åç”¨æˆ·åè®® è¯·å‹¿å…¬å¼€å®£ä¼  <br> The script violates the user agreement, please do not publicize |
| ---------------------------------------------------------------------------------------------------------------- |

[FAQ](https://github.com/NateScarlet/auto-derby/wiki/FAQ)

[è‚²æˆç»“æœ Nurturing result](https://github.com/NateScarlet/auto-derby/wiki/Nurturing-result)

## åŠŸèƒ½

- [x] æ”¯æŒå®¢æˆ·ç«¯
  - [x] DMM ï¼ˆå‰å°ï¼‰
  - [x] _å®éªŒæ€§_ å®‰å“ ADB è¿æ¥ï¼ˆåå°ï¼‰å¼€å‘åŸºäº 1080x1920 åˆ†è¾¨ç‡
- [x] å›¢é˜Ÿèµ› (Team race)
  - [x] æœ‰èƒœåˆ©ç¡®å®šå¥–åŠ±æ—¶åƒå¸•è²
- [x] æ—¥å¸¸èµ› (Daily race)
- [x] PvP æ´»åŠ¨èµ› (Champions meeting)
- [x] ä¼ å¥‡èµ› (Legend race)
  - [x] è‡ªåŠ¨é¢†å¥–åŠ±
- [x] æ´»åŠ¨æŠ½å¥–è½¬ç›˜ (Roulette derby)
- [x] è‡ªå®šä¹‰é™æ—¶å•†åº—å¤„ç†
  - [x] æ’ä»¶ limited_sale_buy_everythingï¼šè‡ªåŠ¨ä¹°ä¸‹æ‰€æœ‰ç‰©å“
  - [x] æ’ä»¶ limited_sale_buy_first_3ï¼šè‡ªåŠ¨ä¹°å‰ 3 ä¸ªç‰©å“
  - [x] æ’ä»¶ limited_sale_ignoreï¼šæ— è§†é™æ—¶å•†åº—
- [x] è‚²æˆ (Nurturing)
  - å‰§æœ¬é€‚é…
    - [x] æ–°è¨­ï¼ã€€ URA ãƒ•ã‚¡ã‚¤ãƒŠãƒ«ã‚ºï¼ï¼
    - [x] ã‚¢ã‚ªãƒãƒ«æ¯ï½è¼ã‘ã€ãƒãƒ¼ãƒ ã®çµ†ï½
    - [x] Make a new track!! ï½ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹é–‹å¹•ï½
  - [x] è‡ªåŠ¨é€‰æ‹©è®­ç»ƒ
    - [x] åŸºäºå½“å‰å±æ€§
    - [x] åŸºäºè®­ç»ƒæ•ˆæœ
    - [x] åŸºäºè®­ç»ƒç­‰çº§
    - [ ] åŸºäºç²¾ç¡®ä½“åŠ›æ¶ˆè€—
    - [x] åŸºäºç¾ç»Šå€¼è·å–é‡
    - [x] æš‘æœŸé›†è®­ä¿ç•™ä½“åŠ›
    - [ ] å¹´æœ«æŠ½å¥–å‰æ¶ˆè€—ä½“åŠ›
  - [x] é‡åˆ°æ–°äº‹ä»¶é€‰é¡¹è¯·æ±‚äººå·¥å¤„ç†ï¼Œåç»­ç›¸åŒäº‹ä»¶ä½¿ç”¨ç›¸åŒé€‰æ‹©
  - [x] è‡ªåŠ¨å‚åŠ æ¯”èµ›
    - [x] é¢„ä¼°æ¯”èµ›ç»“æœï¼Œå¦‚æœä¸èƒ½ä»…é å±æ€§æ‹¿å† å†›åˆ™æš‚åœè¯·æ±‚äººå·¥ç¡®è®¤
    - [x] è‡ªåŠ¨é€‰æ‹©æ¯”èµ›è·‘æ³•
      - [x] åŸºäºå±æ€§å’Œé€‚æ€§
      - [ ] åŸºäºå¯¹æ‰‹è·‘æ³•é€‰æ‹©è·‘æ³•ï¼ˆå€¾å‘äººæ•°å°‘çš„è·‘æ³•ï¼‰
  - [x] æ”¯æŒå‹äººå¡
    - [x] åŸºäºå‹äººå¡äº‹ä»¶æ•ˆæœä¸»åŠ¨å¤–å‡º
- [x] æ”¯æŒ [python æ’ä»¶](https://github.com/NateScarlet/auto-derby/wiki/Plugins)

## ä½¿ç”¨æ–¹æ³•

éœ€æ±‚ DMM ç‰ˆ å’Œ python3.8

### å®‰è£…ä¾èµ–

Shift + å³é”® ç‚¹å‡»é¡¹ç›®æ–‡ä»¶å¤¹ç©ºç™½å¤„ - `åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£` åœ¨å…¶ä¸­è¿è¡Œ

```shell
py -3.8 -m pip install -r requirements.txt
```

### å¯åŠ¨

åŒå‡» `launcher.cmd` å¯é€šè¿‡ä¸€ä¸ªç®€å•çš„ GUI è¿›è¡Œå¯åŠ¨

æˆ–è€…æ‰‹åŠ¨è°ƒç”¨æ¨¡å—ï¼š

```shell
py -3.8 -m auto_derby å·¥ä½œåç§°
```

å·¥ä½œåç§°éšä¾¿è¾“å…¥é”™è¯¯çš„åå­—ä¼šæç¤ºå½“å‰æ”¯æŒçš„å·¥ä½œ

### æ›´æ–°ç‰ˆæœ¬

ç”¨æˆ·æ•°æ®é»˜è®¤å‚¨å­˜åœ¨ `data` æ–‡ä»¶å¤¹ä¸‹ã€‚

å¤åˆ¶ `data` æ–‡ä»¶å¤¹åˆ°æ–°ç‰ˆæœ¬é¡¹ç›®æ–‡ä»¶å¤¹å³å¯ç»§æ‰¿æ•°æ®ã€‚

## é—®é¢˜åé¦ˆ

é€šè¿‡ [Github issues](https://github.com/NateScarlet/auto-derby/issues) æäº¤åé¦ˆ

å¯åŠ¨å™¨å‹¾é€‰ debug æ—¶ä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆç›¸å…³è°ƒè¯•ä¿¡æ¯ï¼Œåé¦ˆæ—¶è¯·å°†ç›¸å…³ä¿¡æ¯ä¸€åŒé™„ä¸Š

åé¦ˆå‰è¯·æ‰‹åŠ¨æ¸…ç†æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ç”¨æˆ·åã€æœºå™¨åï¼‰

### launcher.log

å¯åŠ¨å™¨æ—¥å¿—

### auto_derby.log

è¿è¡Œæ—¥å¿—ï¼Œ`.1` `.2` `.3` åç¼€çš„æ–‡ä»¶ä¸ºä¹‹å‰æ—¥å¿—çš„å¤‡ä»½

### debug

è°ƒè¯•æ•°æ®ï¼Œ`.1` `.2` `.3` åç¼€çš„æ–‡ä»¶å¤¹ä¸ºä¹‹å‰è°ƒè¯•æ•°æ®çš„å¤‡ä»½ã€‚

last_screenshot.png ä¸ºè„šæœ¬æœ€åçœ‹åˆ°çš„æ¸¸æˆç”»é¢ã€‚
ç•Œé¢è¯†åˆ«ç›¸å…³é—®é¢˜ä¸è¦æä¾›åœ¨å‡ºé”™åæ‰‹åŠ¨è¿›è¡Œçš„æˆªå›¾ã€‚

log.jsonl å’Œ images ä¸ºç½‘é¡µæ—¥å¿—å†…å®¹å’Œå›¾ç‰‡ï¼Œå¯ç”¨ ./scripts/view_web_log.py æŸ¥çœ‹ã€‚
è®­ç»ƒè¯†åˆ«ç›¸å…³é—®é¢˜å› ä¸ºæ˜¯å¼‚æ­¥å¤„ç†çš„æˆªå›¾ï¼Œå…‰æä¾› last_screenshot æ²¡æœ‰ç”¨ã€‚

## è´¡çŒ®ä»£ç 

PR æåˆ°å¼€å‘ (dev) åˆ†æ”¯ï¼ŒCI ä¼šè‡ªåŠ¨è·‘æµ‹è¯•ã€‚

ä¸€ä¸ª PR åªè§£å†³ä¸€ä¸ªé—®é¢˜ã€‚

å¼€å‘ä¾èµ–åœ¨ dev-requirements.txtã€‚

è¿è¡Œå‘½ä»¤æ—¶å€™å¯ç”¨çš„ç¯å¢ƒå˜é‡è§ .env.exampleï¼Œæ¨èç”¨ godotenv å·¥å…·æ¥æ‰§è¡Œå‘½ä»¤ã€‚

å¦‚æœ CI lint é˜¶æ®µå‡ºé”™ï¼Œè¿è¡Œ `make format` åº”è¯¥èƒ½è‡ªåŠ¨ä¿®å¤ã€‚

æœ¬åœ°è·‘æµ‹è¯•ä½¿ç”¨ `make test`ã€‚

æ·»åŠ æ–°å›¾ç‰‡æ¨¡ç‰ˆåä½¿ç”¨ `make -C auto-derby/templates` ç”Ÿæˆç´¢å¼•ã€‚

é™åˆ¶å›¾ç‰‡æ¨¡ç‰ˆä½ç½®ä½¿ç”¨ `./scripts/capture_template_position.py` æˆ–è€…ç”¨ç”»å›¾ç¼–è¾‘ã€‚
ç”»å›¾ç¼–è¾‘å®Œåæ¨èè¿è¡Œ `make -C auto-derby/templates {æ¨¡ç‰ˆåç§°}.pos.png` æ¥å°†å›¾ç‰‡è½¬ä¸º 1bit æ·±åº¦æ¥å‡å°ä½“ç§¯ã€‚
